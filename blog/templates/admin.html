{% extends "base.html" %}

{% block extra_js %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script src="{{static_url('js/admin.js')}}"></script>
{% end %}

{% block body %}
<div class="blog_heading">
  <span class="blog_title">Admin</span>
  <span class="blog_subtitle">edit posts</span>
</div>

<a href="/">back to blog</a>
<div class="bpad"></div>

<table>
  <tr>
    <th>Status</th>
    <th>Title</th>
    <th>Date</th>
    <th>Content</th>
  </tr>
{% for post in posts %}
  <tr title="{{post.id}}" onClick="updatePostId('{{post.id}}')">
    <td>{{ "active" if post.active else "inactive" }}</td>
    <td>{{post.title}}</td>
    <td>{{post.time_created.strftime('%Y-%m-%d %H:%M')}}</td>
    <td>{{post.trimmed_content()}}</td>
  </tr>
{% end %}
</table>

<br>
<div>
  <span class="bold">Post Id: </span>
  <span class="tt pad_left" id="post_id">
    {% if posts %}
    {{posts[0].id}}
    {% end %}
  </span>
</div>
{% end %}
